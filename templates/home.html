{% extends 'base.html' %}
{% block title %}Voyageur — Discover Extraordinary Places{% endblock %}

{% block extra_head %}
<style>
  /* ============================================
     HERO
  ============================================ */
  .hero {
    position: relative;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 0 4rem;
    overflow: hidden;
    background: var(--deep);
  }

  .hero__bg {
    position: absolute;
    inset: 0;
    background:
      radial-gradient(ellipse 60% 80% at 80% 50%, rgba(201,169,110,0.07) 0%, transparent 60%),
      radial-gradient(ellipse 40% 50% at 10% 80%, rgba(201,169,110,0.04) 0%, transparent 50%);
    pointer-events: none;
  }
  .hero__lines {
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 100px,
      rgba(201,169,110,0.025) 100px,
      rgba(201,169,110,0.025) 101px
    );
    pointer-events: none;
  }

  .hero__content {
    position: relative;
    max-width: 780px;
    animation: fadeUp 0.9s ease forwards;
  }

  .hero__eyebrow {
    display: flex;
    align-items: center;
    gap: 1rem;
    font-size: 0.7rem;
    letter-spacing: 0.26em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 1.8rem;
  }
  .hero__eyebrow::before {
    content: '';
    width: 36px; height: 1px;
    background: var(--gold);
  }

  .hero__title {
    font-family: 'Cormorant Garamond', serif;
    font-size: clamp(3.5rem, 7vw, 6.5rem);
    font-weight: 300;
    line-height: 1.05;
    color: var(--text-main);
    margin-bottom: 1.6rem;
  }
  .hero__title em {
    font-style: italic;
    color: var(--gold);
  }

  .hero__sub {
    font-size: 1rem;
    color: var(--text-muted);
    max-width: 480px;
    line-height: 1.8;
    margin-bottom: 2.8rem;
  }

  .hero__cta {
    display: flex;
    align-items: center;
    gap: 1.2rem;
    flex-wrap: wrap;
  }

  .hero__scroll {
    position: absolute;
    bottom: 3rem;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.65rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--text-muted);
    animation: bounce 2s infinite;
  }
  .hero__scroll i { font-size: 1rem; color: var(--gold); }

  /* ============================================
     SEARCH BAR
  ============================================ */
  .search-bar__label {
    font-size: 0.68rem;
    letter-spacing: 0.18em;
    text-transform: uppercase;
    color: var(--gold);
    margin-bottom: 1.2rem;
  }
  .search-bar__fields {
    display: grid;
    grid-template-columns: 2fr 1fr 1fr 1fr auto;
    gap: 1rem;
    align-items: end;
  }
  .search-bar .form-label { font-size: 0.65rem; }
  .search-bar .form-input { padding: 0.75rem 1rem; }
  .btn-search {
    background: var(--gold);
    color: var(--deep);
    border: none;
    padding: 0.75rem 1.8rem;
    font-size: 0.76rem;
    font-weight: 500;
    letter-spacing: 0.1em;
    text-transform: uppercase;
    border-radius: var(--radius);
    cursor: pointer;
    transition: var(--transition);
    white-space: nowrap;
    height: 46px;
  }
  .btn-search:hover { background: var(--gold-light); transform: translateY(-1px); }

  /* ============================================
     DESTINATIONS
  ============================================ */
  .dest-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 1rem;
  }
  .dest-card {
    position: relative;
    height: 200px;
    border-radius: var(--radius-lg);
    overflow: hidden;
    cursor: pointer;
  }
  .dest-card:first-child { grid-column: span 2; height: 260px; }
  .dest-card:nth-child(2) { grid-column: span 2; height: 260px; }
  .dest-card__img {
    width: 100%; height: 100%;
    object-fit: cover;
    transition: transform 0.5s ease;
    filter: brightness(0.65);
  }
  .dest-card:hover .dest-card__img { transform: scale(1.06); filter: brightness(0.8); }
  .dest-card__overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.7) 0%, transparent 60%);
    display: flex;
    align-items: flex-end;
    padding: 1.2rem;
  }
  .dest-card__name {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.2rem;
    color: #fff;
    letter-spacing: 0.05em;
  }
  .dest-card__placeholder {
    width: 100%; height: 100%;
    background: linear-gradient(135deg, var(--surface) 0%, rgba(201,169,110,0.1) 100%);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .dest-card__placeholder i {
    font-size: 2rem;
    color: var(--gold);
    opacity: 0.4;
  }

  /* ============================================
     FEATURED HOTELS
  ============================================ */
  .hotel-card {
    position: relative;
  }
  .hotel-card__featured {
    position: absolute;
    top: 1rem; left: 1rem;
    z-index: 2;
  }

  /* ============================================
     STATS BAR
  ============================================ */
  .stats-bar {
    background: var(--surface);
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
    padding: 2.5rem 4rem;
  }
  .stats-bar__inner {
    max-width: 1260px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 2rem;
    text-align: center;
  }
  .stat__num {
    font-family: 'Cormorant Garamond', serif;
    font-size: 3rem;
    font-weight: 300;
    color: var(--gold);
    line-height: 1;
  }
  .stat__label {
    font-size: 0.72rem;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    color: var(--text-muted);
    margin-top: 0.4rem;
  }

  /* ============================================
     BLOG CARDS
  ============================================ */
  .blog-card { display: flex; flex-direction: column; }
  .blog-card .card__img { height: 200px; }

  /* ============================================
     ANIMATIONS
  ============================================ */
  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  @keyframes bounce {
    0%, 100% { transform: translateX(-50%) translateY(0); }
    50%       { transform: translateX(-50%) translateY(8px); }
  }

  /* ============================================
     SEARCH BAR WRAPPER
  ============================================ */
  .search-bar-wrap {
    padding: 0 4rem;
    margin-top: -40px;
    position: relative;
    z-index: 10;
  }
  .search-bar {
    max-width: 1060px;
    margin: 0 auto;
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: 1.8rem 2rem;
    box-shadow: 0 30px 80px rgba(0,0,0,0.5);
  }

  /* ============================================
     RESPONSIVE
  ============================================ */
  @media (max-width: 1024px) {
    .search-bar__fields { grid-template-columns: 1fr 1fr; }
    .btn-search { grid-column: 1 / -1; width: 100%; justify-content: center; }
    .dest-grid { grid-template-columns: repeat(3, 1fr); }
    .dest-card:first-child, .dest-card:nth-child(2) { grid-column: span 1; height: 200px; }
    .stats-bar__inner { grid-template-columns: repeat(2, 1fr); }
  }
  @media (max-width: 768px) {
    .hero { padding: 0 1.5rem; min-height: 85vh; }
    .search-bar-wrap { padding: 0 1rem; margin-top: 0; }
    .search-bar { padding: 1.4rem 1.2rem; border-radius: var(--radius); }
    .search-bar__fields { grid-template-columns: 1fr; gap: 0.8rem; }
    .btn-search { width: 100%; justify-content: center; }
    .stats-bar { padding: 2rem 1.5rem; }
    .dest-grid { grid-template-columns: repeat(2, 1fr); }
  }
  @media (max-width: 400px) {
    .search-bar-wrap { padding: 0 0.75rem; }
    .search-bar { padding: 1.2rem 1rem; }
    .search-bar__label { font-size: 0.62rem; margin-bottom: 0.9rem; }
    .search-bar .form-input { padding: 0.65rem 0.8rem; font-size: 0.85rem; }
    .btn-search { padding: 0.7rem 1rem; font-size: 0.72rem; }
    .stats-bar__inner { grid-template-columns: repeat(2, 1fr); gap: 1rem; }
    .stat__num { font-size: 2.2rem; }
  }
</style>
{% endblock %}

{% block content %}

<!-- ====================== HERO ====================== -->
<section class="hero">
  <div class="hero__bg"></div>
  <div class="hero__lines"></div>

  <div class="hero__content">
    <div class="hero__eyebrow">Curated Travel Experiences</div>
    <h1 class="hero__title">
      Where Every<br>
      Journey Becomes<br>
      <em>Unforgettable</em>
    </h1>
    <p class="hero__sub">
      Discover hand-picked hotels and hidden gems across the world's most captivating destinations.
    </p>
    <div class="hero__cta">
      <a href="{% url 'hotels' %}" class="btn btn-gold">
        <i class="fas fa-compass"></i> Explore Hotels
      </a>
      <a href="{% url 'blog_list' %}" class="btn btn-outline">
        Travel Journal
      </a>
    </div>
  </div>

  <div class="hero__scroll">
    <i class="fas fa-chevron-down"></i>
    Scroll
  </div>
</section>

<!-- ====================== SEARCH BAR ====================== -->
<div class="search-bar-wrap">
  <div class="search-bar">
      <div class="search-bar__label">Find Your Perfect Stay</div>
      <form method="GET" action="{% url 'search_hotels' %}">
        <div class="search-bar__fields">
          <div class="form-group" style="margin-bottom:0;">
            <label class="form-label">Destination</label>
            <select name="city" class="form-input form-select">
              <option value="">Any destination</option>
              {% for dest in destinations %}
                <option value="{{ dest.slug }}">{{ dest.name }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group" style="margin-bottom:0;">
            <label class="form-label">Check In</label>
            <input type="date" name="check_in" class="form-input" />
          </div>
          <div class="form-group" style="margin-bottom:0;">
            <label class="form-label">Check Out</label>
            <input type="date" name="check_out" class="form-input" />
          </div>
          <div class="form-group" style="margin-bottom:0;">
            <label class="form-label">Guests</label>
            <input type="number" name="guests" min="1" max="20" placeholder="1" class="form-input" />
          </div>
          <button type="submit" class="btn-search">
            <i class="fas fa-search"></i> Search
          </button>
        </div>
      </form>
  </div>
</div>

<!-- ====================== STATS ====================== -->
<div class="stats-bar">
  <div class="stats-bar__inner">
    <div>
      <div class="stat__num">500+</div>
      <div class="stat__label">Curated Hotels</div>
    </div>
    <div>
      <div class="stat__num">80+</div>
      <div class="stat__label">Destinations</div>
    </div>
    <div>
      <div class="stat__num">12K</div>
      <div class="stat__label">Happy Travellers</div>
    </div>
    <div>
      <div class="stat__num">4.9</div>
      <div class="stat__label">Average Rating</div>
    </div>
  </div>
</div>

<!-- ====================== DESTINATIONS ====================== -->
<section class="section">
  <div class="container">
    <div class="section-label">Where To Go</div>
    <h2 class="section-title">Explore Destinations</h2>
    <p class="section-sub">From sun-drenched coastlines to mountain retreats — find your escape.</p>

    <div class="dest-grid">
      {% for dest in destinations %}
      <a href="{% url 'search_hotels' %}?city={{ dest.slug }}" class="dest-card">
        {% if dest.image %}
          <img src="{{ dest.image.url }}" alt="{{ dest.name }}" class="dest-card__img" />
        {% else %}
          <div class="dest-card__placeholder">
            <i class="fas fa-map-location-dot"></i>
          </div>
        {% endif %}
        <div class="dest-card__overlay">
          <span class="dest-card__name">{{ dest.name }}</span>
        </div>
      </a>
      {% empty %}
        <p style="color:var(--text-muted); grid-column: 1/-1;">No destinations yet.</p>
      {% endfor %}
    </div>
  </div>
</section>

<!-- ====================== FEATURED HOTELS ====================== -->
<section class="section" style="padding-top:0;">
  <div class="container">
    <div class="section-label">Handpicked For You</div>
    <h2 class="section-title">Featured Hotels</h2>
    <p class="section-sub">Our editors' selection of the finest properties worldwide.</p>

    <div class="grid-3">
      {% for hotel in featured_hotels %}
      <div class="card hotel-card">
        <div class="card__img-wrap">
          {% if hotel.image %}
            <img src="{{ hotel.image.url }}" alt="{{ hotel.name }}" class="card__img" />
          {% else %}
            <div style="height:220px; background: linear-gradient(135deg, var(--surface), rgba(201,169,110,0.08)); display:flex; align-items:center; justify-content:center;">
              <i class="fas fa-hotel" style="font-size:2.5rem; color:var(--gold); opacity:0.3;"></i>
            </div>
          {% endif %}
          <div class="hotel-card__featured">
            <span class="badge badge-gold"><i class="fas fa-star"></i> Featured</span>
          </div>
        </div>
        <div class="card__body">
          <div class="card__label">{{ hotel.destination.name }}</div>
          <div class="card__title">{{ hotel.name }}</div>
          <p class="card__text">{{ hotel.description|truncatechars:90 }}</p>
          <div class="card__price">₹{{ hotel.price_per_night }} <span>/ night</span></div>
        </div>
        <div class="card__footer">
          <div class="stars">&#9733;&#9733;&#9733;&#9733;&#9733;</div>
          <a href="{% url 'hotel_detail' hotel.slug %}" class="btn btn-gold" style="padding:0.5rem 1.2rem; font-size:0.72rem;">
            View Hotel <i class="fas fa-arrow-right"></i>
          </a>
        </div>
      </div>
      {% empty %}
        <p style="color:var(--text-muted); grid-column:1/-1;">No featured hotels yet.</p>
      {% endfor %}
    </div>

    <div style="text-align:center; margin-top:3rem;">
      <a href="{% url 'hotels' %}" class="btn btn-outline">
        View All Hotels <i class="fas fa-arrow-right"></i>
      </a>
    </div>
  </div>
</section>

<!-- ====================== TRAVEL JOURNAL ====================== -->
{% if featured_blogs %}
<section class="section" style="padding-top:0; padding-bottom:6rem;">
  <div class="container">
    <div class="section-label">Stories & Guides</div>
    <h2 class="section-title">Travel Journal</h2>
    <p class="section-sub">Inspiration and tips for the discerning traveller.</p>

    <div class="grid-3">
      {% for blog in featured_blogs %}
      <a href="{% url 'blog_detail' blog.slug %}" class="card blog-card">
        <div class="card__img-wrap">
          {% if blog.image %}
            <img src="{{ blog.image.url }}" alt="{{ blog.title }}" class="card__img" />
          {% else %}
            <div style="height:200px; background: linear-gradient(135deg, var(--surface), rgba(201,169,110,0.06)); display:flex; align-items:center; justify-content:center;">
              <i class="fas fa-feather-pointed" style="font-size:2rem; color:var(--gold); opacity:0.3;"></i>
            </div>
          {% endif %}
        </div>
        <div class="card__body">
          <div class="card__label">{{ blog.published_at|date:"M d, Y" }}</div>
          <div class="card__title">{{ blog.title }}</div>
          <p class="card__text">{{ blog.content|truncatechars:100 }}</p>
        </div>
      </a>
      {% endfor %}
    </div>
  </div>
</section>
{% endif %}

{% endblock %}
